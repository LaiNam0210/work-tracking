<div
  class="report-detail-container"
  *ngIf="report$ | async as report; else errorBlock"
>
  <h1>ID: {{ report.id }}</h1>
  <p>Time created: {{ report.timeCreated | date: 'short' }}</p>
  <div *ngIf="!isEditMode; else elseBlock">
    <div class="button-holder">
      <button mat-raised-button color="accent" (click)="onEdit()">
        Edit Report
      </button>
      <button mat-raised-button color="warn" (click)="onDelete()">
        Delete Report
      </button>
    </div>
    <hr />
    <span>
      <p class="report-detail-label">Job yesterday:</p>
      <p class="report-detail-content">{{ report.jobYesterday }}</p>
    </span>
    <span>
      <p class="report-detail-label">Problems:</p>
      <p class="report-detail-content">{{ report.problems }}</p>
    </span>
    <span>
      <p class="report-detail-label">Job today:</p>
      <p class="report-detail-content">{{ report.jobToday }}</p>
    </span>
  </div>
  <ng-template #elseBlock>
    <h2>Editing report</h2>

    <training-report-form
      [selectedReport$]="report$"
      [handleFormSubmit]="onEditUpdate"
      [isEditMode]="isEditMode"
    >
    </training-report-form>
  </ng-template>
</div>

<ng-template #errorBlock>
  <div *ngIf="error$ | async as error">
    <h1>{{ error }}</h1>
  </div>
</ng-template>
